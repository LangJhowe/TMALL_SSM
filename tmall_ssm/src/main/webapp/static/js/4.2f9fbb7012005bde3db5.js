webpackJsonp([4],{HNWq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("KLxg"),r=a("xO/y"),i={components:{SproductWall:s.a},data:function(){return{productsData:[],pager:{pages:0,page:1,total:0},searchForm:{keyword:"",page:1}}},mounted:function(){var t=this.$route.query.keyword;""!=t&&(this.searchForm.keyword=t,this.flashProductData(this.searchForm))},methods:{flashProductData:function(){var t=this;Object(r.g)(this.searchForm).then(function(e){var a=e.data;t.$CODES.SUCCESS==a.code&&(t.productsData=a.data,t.pager.pages=a.pages,t.pager.page=a.pageNum,t.pager.total=a.total)})},changePage:function(t){this.searchForm.page=t,this.flashProductData(this.searchForm)}},watch:{$route:{handler:function(t,e){if(this.$route.query.hasOwnProperty("keyword")){var a=this.$route.query.keyword;if(""==a)return;this.searchForm.keyword=a,this.flashProductData()}},deep:!0}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-search"},[e("div",{staticClass:"m_container"},[e("sproduct-wall",{attrs:{productsData:this.productsData}}),this._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{layout:"total, prev, pager, next","page-count":this.pager.pages,"current-page":this.pager.pageNum,total:this.pager.total},on:{"current-change":this.changePage}})],1)],1)])},staticRenderFns:[]},o=a("C7Lr")(i,c,!1,function(t){a("I5G+")},null,null);e.default=o.exports},"I5G+":function(t,e){},KLxg:function(t,e,a){"use strict";var s={props:{productsData:Array,needSort:{type:Boolean,default:!1},isCategory:{type:Boolean,default:!1},cid:{type:String,default:""}},data:function(){return{sortItems:[{name:"综合",sort:"all"},{name:"人气",sort:"review"},{name:"新品",sort:"date"},{name:"销量",sort:"saleCount"},{name:"价格",sort:"price"}],selectedSort:"all",priceSelected:{min:"",max:""}}},methods:{chooseSort:function(t){this.selectedSort==t.sort?this.selectedSort="all":this.selectedSort=t.sort,this.$emit("chooseSort",t.sort)},fillPrice:function(){this.$emit("fillPrice",this.priceSelected)},resetSortAndPrice:function(){this.priceSelected.min="",this.priceSelected.max="",this.selectedSort="all"},toProductPage:function(t){this.$router.push({path:"/extra/product",query:{pid:t}})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sproducts-wall"},[a("div",{staticClass:"m_container"},[t.isCategory&&""!=t.cid?a("div",{staticClass:"category-img"},[a("img",{attrs:{src:"/img/category/"+t.cid+".jpg",alt:""}})]):t._e(),t._v(" "),t.needSort?a("div",{staticClass:"sorts"},[a("ul",{staticClass:"click-sort"},t._l(t.sortItems,function(e){return a("li",{key:e.name,class:{active:t.selectedSort==e.sort},on:{click:function(a){return t.chooseSort(e)}}},[a("span",[t._v(t._s(e.name))]),a("span",{staticClass:"glyphicon glyphicon-arrow-down"})])}),0),t._v(" "),a("div",{staticClass:"price-sort clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.priceSelected.min,expression:"priceSelected.min",modifiers:{lazy:!0}}],staticClass:"fl",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.priceSelected.min},on:{change:[function(e){return t.$set(t.priceSelected,"min",e.target.value)},t.fillPrice]}}),t._v(" "),a("span",{staticClass:"splash fl"},[t._v("-")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.priceSelected.max,expression:"priceSelected.max",modifiers:{lazy:!0}}],staticClass:"fl",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.priceSelected.max},on:{change:[function(e){return t.$set(t.priceSelected,"max",e.target.value)},t.fillPrice]}})])]):t._e(),t._v(" "),a("ul",{staticClass:"products-wrap"},t._l(t.productsData,function(e){return a("li",{key:e.id,staticClass:"product",on:{click:function(a){return t.toProductPage(e.id)}}},[a("div",{staticClass:"info"},[a("img",{attrs:{src:"/img/productSingle/"+e.firstProductImage.id+".jpg",alt:""}}),t._v(" "),a("p",{staticClass:"price"},[t._v("￥ "+t._s(e.promotePrice))]),t._v(" "),a("p",[t._v(t._s(e.name))]),t._v(" "),t._m(0,!0)]),t._v(" "),a("ul",{staticClass:"statics"},[a("li",{staticClass:"sale"},[t._v("月成交 "),a("span",[t._v(t._s(e.saleCount)+"笔")])]),t._v(" "),a("li",{staticClass:"review"},[t._v("评价"),a("span",[t._v(t._s(e.reviewCount))])]),t._v(" "),t._m(1,!0)])])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"javascript:void(0)"}},[this._v("天猫专卖")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"wangwang"},[e("img",{attrs:{src:"/static/img/wangwang.png",alt:""}})])}]},i=a("C7Lr")(s,r,!1,function(t){a("UavG")},null,null);e.a=i.exports},UavG:function(t,e){}});