webpackJsonp([15],{"0Uhs":function(t,e){},iMGc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("vMJZ"),r=a("ZoQJ"),s=a("iF09"),l={data:function(){return{activeTab:"all",tabsItem:[{label:"所有订单",name:"all"},{label:"待付款",name:"waitPay"},{label:"待发货",name:"waitDelivery"},{label:"待收货",name:"waitConfirm"},{label:"待评价",name:"waitReview"}],tableItem:[{label:"宝贝"},{label:"单价"},{label:"数量"},{label:"实付款"},{label:"交易操作"}],orderList:[]}},computed:{filterOrderList:function(){var t=this.activeTab;return"all"==t?this.orderList:this.orderList.filter(function(e){return t==e.status})}},activated:function(){this.getList()},methods:{tabsClick:function(t){this.activeTab=t.name},getList:function(){var t=this;Object(s.c)()&&Object(i.k)({uid:Object(s.c)().id}).then(function(e){var a=e.data;t.$CODES.SUCCESS==a.code&&(t.orderList=a.data)})},deleteOrder:function(t){var e=this;Object(i.f)({oid:t.id}).then(function(t){var a=t.data;e.$CODES.SUCCESS==a.code&&(e.getList(),e.$notify({type:"success",message:"成功删除订单"}))})},formatDate:function(t){return Object(r.b)(t)},canDelete:function(t){var e=t.status;return"finish"==e||"waitPay"==e},formatTime:function(t){return Object(r.e)(t)},formatPrice:function(t){return Object(r.d)(t,2)},fitColumnWidth:function(t){switch(t){case"宝贝":return"600px";default:return""}},fitBtnType:function(t){switch(t){case"waitPay":return"primary";case"waitDelivery":return;case"waitConfirm":return"primary";case"waitReview":return"";case"finish":case"delete":return;default:return!1}},fitOperateText:function(t){switch(t){case"waitPay":return"付款";case"waitDelivery":return"催卖家发货";case"waitConfirm":return"确认收货";case"waitReview":return"评价";case"finish":case"delete":default:return""}},fitDoAction:function(t){var e,a,r=this,s=t.status,l=t.id,n=t.total;switch(s){case"waitDelivery":a={oid:l},e=i.b;break;case"waitPay":e=null,a=null,this.$router.push({path:"/buyStep/stepPay",query:{oid:l,total:n}});break;case"waitConfirm":e=null,a=null,this.$router.push({path:"/buyStep/stepConfirm",query:{oid:l}});break;case"waitReview":e=null,a=null,this.$router.push({path:"/buyStep/stepReview",query:{oid:l}});break;case"finish":case"delete":break;default:e=null,a=null}e&&a&&e(a).then(function(t){var e=t.data;r.$CODES.SUCCESS==e.code&&r.getList()})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bought"},[a("div",{staticClass:"m_container"},[a("el-tabs",{on:{"tab-click":t.tabsClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.tabsItem,function(t){return a("el-tab-pane",{key:t.name,attrs:{label:t.label,name:t.name}})}),1),t._v(" "),a("el-table",{attrs:{data:t.filterOrderList,"row-class-name":"myrow"}},t._l(t.tableItem,function(e){return a("el-table-column",{key:e.label,attrs:{label:e.label,width:t.fitColumnWidth(e.label)},scopedSlots:t._u([{key:"default",fn:function(i){return["宝贝"==e.label?a("div",{staticClass:"order-column"},[a("div",{staticClass:"column-head"},[a("p",{staticClass:"tl"},[a("strong",{staticClass:"time"},[t._v(t._s(t.formatDate(i.row.createDate))+" "+t._s(t.formatTime(i.row.createDate)))]),t._v(" "),a("span",[t._v("订单号:"+t._s(i.row.orderCode))])])]),t._v(" "),a("div",{staticClass:"column-main"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:"/img/productSingle_middle/"+i.row.orderItems[0].product.firstProductImage.id+".jpg",alt:""}})]),t._v(" "),a("div",{staticClass:"product-info"},[a("router-link",{attrs:{to:{path:"/extra/product",query:{pid:i.row.orderItems[0].product.id}}}},[t._v(t._s(i.row.orderItems[0].product.name))]),t._v(" "),a("ul",{staticClass:"ensure"},[a("li",[a("img",{attrs:{src:"/static/img/creditcard.png",alt:""}})]),t._v(" "),a("li",[a("img",{attrs:{src:"/static/img/7day.png",alt:""}})]),t._v(" "),a("li",[a("img",{attrs:{src:"/static/img/promise.png",alt:""}})])])],1)])]):"单价"==e.label?a("div",{staticClass:"order-column"},[a("div",{staticClass:"column-head"},[a("p",[a("img",{attrs:{src:"/static/img/orderItemTmall.png",alt:""}}),t._v("天猫商城")])]),t._v(" "),a("div",{staticClass:"column-main"},[a("div",{staticClass:"price"},[a("p",{staticClass:"o-price"},[t._v("￥"+t._s(t.formatPrice(i.row.orderItems[0].product.originalPrice)))]),t._v(" "),a("p",{staticClass:"p-price"},[t._v("￥"+t._s(t.formatPrice(i.row.orderItems[0].product.promotePrice)))])])])]):"数量"==e.label?a("div",{staticClass:"order-column"},[a("div",{staticClass:"column-head"},[a("p",[t._v("购买数量")])]),t._v(" "),a("div",{staticClass:"column-main"},[a("div",{staticClass:"number"},[a("p",[t._v("\n                  "+t._s(i.row.orderItems[0].number)+"\n                ")])])])]):"实付款"==e.label?a("div",{staticClass:"order-column"},[a("div",{staticClass:"column-head"},[a("a",{staticClass:"orderItemWangWangGif",attrs:{href:"javascipt:void(0)"}})]),t._v(" "),a("div",{staticClass:"column-main"},[a("div",{staticClass:"add-freight"},[a("p",[a("strong",[t._v("￥"+t._s(t.formatPrice(i.row.orderItems[0].product.promotePrice)))])]),t._v(" "),a("p",[t._v("（含运费: ￥0.00）")])])])]):"交易操作"==e.label?a("div",{staticClass:"order-column"},[a("div",{staticClass:"column-head"},[t.canDelete(i.row)?a("button",{staticClass:"delete-btn fr glyphicon glyphicon-trash",on:{click:function(e){return t.deleteOrder(i.row)}}}):t._e()]),t._v(" "),a("div",{staticClass:"column-main"},[a("div",{staticClass:"operator"},["finish"!=i.row.status?a("el-button",{attrs:{type:t.fitBtnType(i.row.status)},on:{click:function(e){return t.fitDoAction(i.row)}}},[t._v("\n                  "+t._s(t.fitOperateText(i.row.status)))]):t._e()],1)])]):t._e()]}}],null,!0)})}),1)],1)])},staticRenderFns:[]},c=a("C7Lr")(l,n,!1,function(t){a("0Uhs")},null,null);e.default=c.exports}});