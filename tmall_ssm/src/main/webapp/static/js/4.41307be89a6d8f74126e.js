webpackJsonp([4],{FOwa:function(t,e){},KLxg:function(t,e,a){"use strict";var r={props:{productsData:Array,needSort:{type:Boolean,default:!1},isCategory:{type:Boolean,default:!1},cid:{type:String,default:""}},data:function(){return{sortItems:[{name:"综合",sort:"all"},{name:"人气",sort:"review"},{name:"新品",sort:"date"},{name:"销量",sort:"saleCount"},{name:"价格",sort:"price"}],selectedSort:"all",priceSelected:{min:"",max:""}}},methods:{chooseSort:function(t){this.selectedSort==t.sort?this.selectedSort="all":this.selectedSort=t.sort,this.$emit("chooseSort",t.sort)},fillPrice:function(){this.$emit("fillPrice",this.priceSelected)},resetSortAndPrice:function(){this.priceSelected.min="",this.priceSelected.max="",this.selectedSort="all"},toProductPage:function(t){this.$router.push({path:"/extra/product",query:{pid:t}})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sproducts-wall"},[a("div",{staticClass:"m_container"},[t.isCategory&&""!=t.cid?a("div",{staticClass:"category-img"},[a("img",{attrs:{src:"/tmall_ssm/img/category/"+t.cid+".jpg",alt:""}})]):t._e(),t._v(" "),t.needSort?a("div",{staticClass:"sorts"},[a("ul",{staticClass:"click-sort"},t._l(t.sortItems,function(e){return a("li",{key:e.name,class:{active:t.selectedSort==e.sort},on:{click:function(a){return t.chooseSort(e)}}},[a("span",[t._v(t._s(e.name))]),a("span",{staticClass:"glyphicon glyphicon-arrow-down"})])}),0),t._v(" "),a("div",{staticClass:"price-sort clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.priceSelected.min,expression:"priceSelected.min",modifiers:{lazy:!0}}],staticClass:"fl",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.priceSelected.min},on:{change:[function(e){return t.$set(t.priceSelected,"min",e.target.value)},t.fillPrice]}}),t._v(" "),a("span",{staticClass:"splash fl"},[t._v("-")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.priceSelected.max,expression:"priceSelected.max",modifiers:{lazy:!0}}],staticClass:"fl",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.priceSelected.max},on:{change:[function(e){return t.$set(t.priceSelected,"max",e.target.value)},t.fillPrice]}})])]):t._e(),t._v(" "),a("ul",{staticClass:"products-wrap"},t._l(t.productsData,function(e){return a("li",{key:e.id,staticClass:"product",on:{click:function(a){return t.toProductPage(e.id)}}},[a("div",{staticClass:"info"},[a("img",{attrs:{src:"/tmall_ssm/img/productSingle/"+e.firstProductImage.id+".jpg",alt:""}}),t._v(" "),a("p",{staticClass:"price"},[t._v("￥ "+t._s(e.promotePrice))]),t._v(" "),a("p",[t._v(t._s(e.name))]),t._v(" "),t._m(0,!0)]),t._v(" "),a("ul",{staticClass:"statics"},[a("li",{staticClass:"sale"},[t._v("月成交 "),a("span",[t._v(t._s(e.saleCount)+"笔")])]),t._v(" "),a("li",{staticClass:"review"},[t._v("评价"),a("span",[t._v(t._s(e.reviewCount))])]),t._v(" "),t._m(1,!0)])])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"javascript:void(0)"}},[this._v("天猫专卖")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"wangwang"},[e("img",{attrs:{src:"/static/img/wangwang.png",alt:""}})])}]},i=a("C7Lr")(r,s,!1,function(t){a("FOwa")},null,null);e.a=i.exports},MArU:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("KLxg"),s=a("xO/y"),i={components:{SproductWall:r.a},data:function(){return{productsData:[],pager:{pages:1,page:1,total:0,size:10},searchForm:{cid:"",page:1,sort:"all",min:"",max:""}}},mounted:function(){if(this.$route.query.hasOwnProperty("cid")){var t=this.$route.query.cid;""!=t&&(this.searchForm.cid=t,this.flashProductData())}},computed:{cid:function(){return this.$route.query.cid+""}},methods:{flashProductData:function(){var t=this;Object(s.f)(this.searchForm).then(function(e){var a=e.data;t.$CODES.SUCCESS==a.code&&(t.productsData=a.data,t.pager.pages=a.pages,t.pager.page=a.pageNum,t.pager.total=a.total,t.pager.size=a.size)})},handleChooseSort:function(t){this.searchForm.sort=t,this.flashProductData()},handleFillPrice:function(t){this.searchForm.min=t.min,this.searchForm.max=t.max,this.flashProductData()},changePage:function(t){this.searchForm.page=t,this.flashProductData(this.searchForm)},resetSearchForm:function(){this.searchForm={cid:this.$route.query.cid,page:1,sort:"all",min:"",max:""}}},watch:{$route:{handler:function(t,e){if(this.$route.query.hasOwnProperty("cid")){var a=this.$route.query.cid;""!=a&&a!=e.query.cid&&(this.searchForm.cid=a,this.$refs.sproductWall.resetSortAndPrice(),this.resetSearchForm(),this.flashProductData())}},deep:!0}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-category"},[a("div",{staticClass:"m_container"},[a("sproduct-wall",{ref:"sproductWall",attrs:{productsData:t.productsData,needSort:!0,isCategory:!0,cid:t.cid},on:{chooseSort:t.handleChooseSort,fillPrice:t.handleFillPrice}}),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total,prev,pager,next",total:t.pager.total,"current-page":t.pager.pageNum,"page-size":t.pager.size},on:{"current-change":t.changePage}})],1)],1)])},staticRenderFns:[]},o=a("C7Lr")(i,c,!1,function(t){a("aJxa")},null,null);e.default=o.exports},aJxa:function(t,e){}});